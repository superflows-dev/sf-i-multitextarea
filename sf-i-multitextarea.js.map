{"version":3,"file":"sf-i-multitextarea.js","sourceRoot":"","sources":["src/sf-i-multitextarea.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * @license\n * Copyright 2022 Superflow.dev\n * SPDX-License-Identifier: MIT\n */\n\nimport {LitElement, html, css, PropertyValueMap} from 'lit';\n// import {customElement, query, queryAssignedElements, property} from 'lit/decorators.js';\n// import {customElement, query, queryAssignedElements, property} from 'lit/decorators.js';\nimport {customElement, property, query} from 'lit/decorators.js';\n// import {customElement, query, property} from 'lit/decorators.js';\n// import Util from './util';\n// import {LitElement, html, css} from 'lit';\n// import {customElement} from 'lit/decorators.js';\n\n\n/*\n\nModes: View, Add, Edit, Delete, Admin\nDB: partitionKey, rangeKey, values\n\n*/\n\n/**\n * SfIMultitextarea element.\n * @fires renderComplete - When the list is populated\n * @fires valueChanged - When the value is changed\n * @property apiId - backend api id\n * @property label - input label\n * @property name - name of the input\n * @property mode - mode of operation\n * @property selectedId - id to preselect\n * @property selectedValue - callback function\n */\n@customElement('sf-i-multitextarea')\nexport class SfIMultitextarea extends LitElement {\n\n  SCROLL_POS = 0;\n\n  @query('.SfIMultitextareaC')\n  _SfMultitextareaX: any;\n  \n  @property()\n  showFields: number = 3;\n\n  @property()\n  fields!: string;\n\n  getFields = () => {\n    return JSON.parse(this.fields);\n  }\n\n  @property()\n  values!: string;\n\n  getValues = () => {\n    try {\n      return JSON.parse(this.values);\n    } catch (e: any) {\n\n      let retValue: any = {};\n\n      for(var i = 0; i < this.getFields().length; i++) {\n        retValue[this.getFields()[i]] = this.values;\n      }\n\n      return retValue;\n\n    }\n  }\n\n  @property()\n  flow: string = \"\";\n\n  static override styles = css`\n    \n    .SfIMultitextareaC {\n      display: flex;\n      align-items: center;\n    }\n\n    .flex-grow {\n      flex-grow: 1;\n    }\n\n    .left-sticky {\n      left: 0px;\n      position: sticky;\n    }\n\n    .link {\n      text-decoration: underline;\n      cursor: pointer;\n    }\n\n    .gone {\n      display: none\n    }\n\n    .unfocused {\n      width: 40px;\n      font-size: 70%;\n    }\n\n    .unfocused-label {\n      display: block;\n      width: 40px;\n      font-size: 80%;\n      white-space: nowrap;\n      overflow: hidden;\n      text-transform: capitalize;\n    }\n\n    .focused {\n      width: 150px;\n    }\n\n    .focused-label {\n      display: block;\n      width: 100px;\n      text-transform: capitalize;\n    }\n\n    .loader-element {\n      position: fixed;\n      right: 10px;\n      top: 10px;\n      margin-left: 5px;\n    }\n\n    .td-head {\n      text-transform: capitalize;\n    }\n\n    .td-body {\n      padding: 5px;\n    }\n\n    .td-dark {\n      background-color: #e9e9e9;\n    }\n\n    .td-highlight {\n      background-color: black;\n      color: white;\n    }\n\n    .td-light {\n      background-color: #f6f6f6;\n    }\n\n    td {\n      white-space: nowrap;\n    }\n\n    .align-start {\n      align-items: flex-start;\n    }\n\n    .align-end {\n      align-items: flex-end;\n    }\n\n    .align-center {\n      align-items: center;\n    }\n    \n    .lds-dual-ring {\n      display: inline-block;\n      width: 50px;\n      height: 50px;\n    }\n    .lds-dual-ring:after {\n      content: \" \";\n      display: block;\n      width: 50px;\n      height: 50px;\n      margin: 0px;\n      border-radius: 50%;\n      border: 2px solid #fff;\n      border-color: #888 #ddd #888 #ddd;\n      background-color: white;\n      animation: lds-dual-ring 0.8s linear infinite;\n    }\n\n    .lds-dual-ring-lg {\n      display: inline-block;\n      width: 30px;\n      height: 30px;\n    }\n    .lds-dual-ring-lg:after {\n      content: \" \";\n      display: block;\n      width: 30px;\n      height: 30px;\n      margin: 0px;\n      border-radius: 50%;\n      border: 3px solid #fff;\n      border-color: #888 #ddd #888 #ddd;\n      animation: lds-dual-ring 0.8s linear infinite;\n    }\n\n    .div-row-error {\n      display: flex;\n      justify-content: center;\n      position: fixed;\n      position: fixed;\n      top: 0px;\n      right: 0px;\n      margin-top: 20px;\n      margin-right: 20px;\n      display: none;\n      align-items:center;\n      background-color: white;\n      border: dashed 1px red;\n      padding: 20px;\n    }\n\n    .div-row-error-message {\n      color: red;\n      padding: 5px;\n      background-color: white;\n      text-align: center;\n    }\n\n    .div-row-success {\n      display: flex;\n      justify-content: center;\n      position: fixed;\n      top: 0px;\n      right: 0px;\n      margin-top: 20px;\n      margin-right: 20px;\n      display: none;\n      align-items:center;\n      background-color: white;\n      border: dashed 1px green;\n      padding: 20px;\n    }\n\n    .div-row-success-message {\n      color: green;\n      padding: 5px;\n      background-color: white;\n      text-align: center;\n    }\n\n    .d-flex {\n      display: flex;\n    }\n\n    .flex-col {\n      flex-direction: column;\n    }\n\n    .justify-center {\n      justify-content: center;\n    }\n\n    .justify-between {\n      justify-content: space-between;\n    }\n\n    .justify-end {\n      justify-content: flex-end;\n    }\n\n    @keyframes lds-dual-ring {\n      0% {\n        transform: rotate(0deg);\n      }\n      100% {\n        transform: rotate(360deg);\n      }\n    }  \n\n    .hide {\n      display: none;\n    }\n\n    .lb {\n      width: 5%\n    }\n    .rb {\n      width: 5%\n    }\n\n    @media (orientation: landscape) {\n\n      .lb {\n        width: 30%\n      }\n      .rb {\n        width: 30%\n      }\n\n    }\n\n    .ml-5 {\n      margin-left: 5px;\n    }\n\n    .mr-5 {\n      margin-right: 5px;\n    }\n\n  `;\n\n  getFieldsHtml = () => {\n    \n    var html = '';\n    const jsonFields = this.getFields();\n\n    html += '<div class=\"d-flex align-center\">';\n\n    if((this.SCROLL_POS) > 0) {\n      html += '<button part=\"multitextarea-prev\" class=\"multitextarea-prev\"><span class=\"material-symbols-outlined\">chevron_left</span></button>';\n    }\n\n    var pos = 0;\n\n    for(var i = this.SCROLL_POS; (i < jsonFields.length) && ((i - this.SCROLL_POS) < this.showFields); i++) {\n\n      html += '<div part=\"multitextarea-container\" class=\"'+((pos === 0) ? 'ml-5' : '')+' '+((pos === (this.showFields-1)) ? 'mr-5' : '')+' '+((pos != (this.showFields-1) && pos != (0)) ? 'ml-5 mr-5' : '')+'\">';\n      html += '<label part=\"multitextarea-label\" class=\"unfocused-label multitextarea-label multitextarea-label-'+i+'\">'+jsonFields[i]+'</label>';\n      html += '<textarea type=\"text\" part=\"multitextarea-input\" class=\"unfocused multitextarea-input multitextarea-input-'+i+'\" >'+(this.getValues() == null ? '' : this.getValues()[jsonFields[i]] == null ? '' : this.getValues()[jsonFields[i]])+'</textarea>';\n      html += '</div>';\n\n      pos++;\n\n    }\n    if((this.SCROLL_POS + this.showFields) < this.getFields().length) {\n      html += '<button part=\"multitextarea-next\" class=\"multitextarea-next\"><span class=\"material-symbols-outlined\">chevron_right</span></button>';\n    }\n\n    html += '</div>';\n    return html;\n      \n  }\n\n  loadFieldsHtml = () => {\n\n    this._SfMultitextareaX.innerHTML = this.getFieldsHtml();\n\n  }\n\n  initListeners = () => {\n\n    const inputs = this._SfMultitextareaX.querySelectorAll('textarea');\n\n    for(var i = 0; i < inputs.length; i++) {\n\n      (inputs[i] as HTMLTextAreaElement).addEventListener('focus', (e: any) => {\n\n        console.log(e.target);\n        const input = e.target as HTMLInputElement;\n        const label = input.parentElement?.firstChild as HTMLLabelElement;\n\n        input.classList.remove('unfocused');\n        input.classList.add('focused');\n\n        label.classList.remove('unfocused-label');\n        label.classList.add('focused-label');\n        \n\n      });\n\n      (inputs[i] as HTMLTextAreaElement).addEventListener('focusout', (e: any) => {\n\n        console.log(e.target);\n        const input = e.target as HTMLInputElement;\n        const label = input.parentElement?.firstChild as HTMLLabelElement;\n\n        input.classList.remove('focused');\n        input.classList.add('unfocused');\n        \n        label.classList.remove('focused-label');\n        label.classList.add('unfocused-label');\n\n      });\n\n    }\n\n    const buttonPrev = this._SfMultitextareaX.querySelector('.multitextarea-prev') as HTMLButtonElement;\n    buttonPrev?.addEventListener('click', () => {\n\n      for(var i = 0; i < this.showFields; i++) {\n        if(this.SCROLL_POS > 0) {\n          this.SCROLL_POS--;\n        }\n      }\n\n      console.log('SCROLL_POS', this.SCROLL_POS);\n\n      this.loadFieldsHtml();\n      this.initListeners();\n    })\n\n    const buttonNext = this._SfMultitextareaX.querySelector('.multitextarea-next') as HTMLButtonElement;\n    buttonNext?.addEventListener('click', () => {\n\n      for(var i = 0; i < this.showFields; i++) {\n        if(this.SCROLL_POS < (this.getFields().length - 1)) {\n          this.SCROLL_POS++;\n        }\n      }\n\n      console.log('SCROLL_POS', this.SCROLL_POS);\n\n      this.loadFieldsHtml();\n      this.initListeners();\n    })\n\n  }\n\n  loadMode = async () => {\n\n    this.loadFieldsHtml();\n    this.initListeners();\n\n  }\n\n  constructor() {\n    super();\n  }\n\n  protected override firstUpdated(_changedProperties: PropertyValueMap<any> | Map<PropertyKey, unknown>): void {\n\n    this.loadMode();\n\n  }\n  \n  override connectedCallback() {\n    super.connectedCallback()\n  }\n  \n  override render() {\n\n    return html`\n          \n      <link href=\"https://fonts.googleapis.com/icon?family=Material+Icons\" rel=\"stylesheet\">\n      <link rel=\"stylesheet\" href=\"https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined\" />\n      <div class=\"SfIMultitextareaC\">\n        \n      </div>\n\n    `;\n  }\n\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'sf-i-multitextarea': SfIMultitextarea;\n  }\n}\n"]}